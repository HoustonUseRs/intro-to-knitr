<!DOCTYPE html><html><head><meta charset="utf8"/><title>Intro to Knitr</title><link rel="stylesheet" href="//houstonusers.github.io/intro-to-knitr/css/global.css"/><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro|Merriweather:400,300,700,900,300italic,400italic,700italic,900italic|Raleway:400,900,800,700,600,500,300,200,100"/><script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/4.2.1/lodash.min.js"></script><script src="//houstonusers.github.io/intro-to-knitr/js/main.js"></script></head><body><header><nav role="navigation" class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><button data-toggle="collapse" data-target="#navbar-top-collapse-1" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="//houstonusers.github.io/intro-to-knitr/" class="navbar-brand">Intro to Knitr</a></div><div id="navbar-top-collapse-1" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="http://www.meetup.com/houstonr/events/227950530/">Meetup</a></li><li><a href="https://github.com/HoustonUseRs">About Us</a></li><li><a href="https://hrug.slack.com">Slack</a></li></ul></div></div></nav></header><main><div class="container-fluid"><div class="row"><div class="col-sm-2"><ul class="nav nav-pills nav-stacked nav-docs fixed"><li class="active"><a href="//houstonusers.github.io/intro-to-knitr/">Notes</a><ul class="nav nav-pills nav-stacked"></ul></li><li><a href="//houstonusers.github.io/intro-to-knitr/view-examples">Examples</a><ul class="nav nav-pills nav-stacked"></ul></li><li><a href="//houstonusers.github.io/intro-to-knitr/view-slides">Slides</a><ul class="nav nav-pills nav-stacked"></ul></li></ul></div><div class="col-sm-10"><article class="article-docs"><h1>Why Knitr</h1><ul>
<li>results need to be reproducible</li>
<li>Documentation of code<ul>
<li>easier to read and understand later on to extend</li>
</ul>
</li>
<li>Great for making reports as well</li>
<li>Sharing results leads to facilitating discussion</li>
</ul>
<h1>History</h1><h2>Donald Knuth</h2><ul>
<li>On literate programming:<ul>
<li>...&quot;consider programs to be works of literature&quot;</li>
<li>comprehensible programs --&gt; better programs</li>
</ul>
</li>
<li>Also, because he&#39;s badass, made Tex for proper typesetting.</li>
</ul>
<p>Some neat trivia</p>
<ul>
<li>version number <a href="http://www.tex.ac.uk/FAQ-TeXfuture.html">approaches PI</a></li>
<li>use to send people a <a href="https://en.wikipedia.org/wiki/Knuth_reward_check">byte of money ($2.56)</a> for finding bugs</li>
</ul>
<h2>DK made WEB</h2><ul>
<li>WEB takes source file (of code and text)</li>
<li>has 2 main functions<ul>
<li>Tangle<ul>
<li>compiles to an executable code file</li>
</ul>
</li>
<li>Weave<ul>
<li>compiles to documentation</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>markdown rose to prevalence</h2><ul>
<li>translates to HTML</li>
<li>clear, concise<ul>
<li>at the cost of being somewhat restrictive</li>
</ul>
</li>
<li>almost as readable as the rendered HTML</li>
</ul>
<h2><a href="http://pandoc.org/">pandoc</a></h2><ul>
<li>can convert between MANY different formats</li>
</ul>
<p><strong>markdown + pandoc + Sweave leads to Knitr</strong></p>
<h1>In Use</h1><p>Knitr runs in a separate environment</p>
<p>If you use markdown</p>
<ul>
<li>Can include things like videos, etc. using HTML</li>
</ul>
<p>Can also use <a href="http://kbroman.org/knitr_knutshell/pages/latex.html">LaTex</a>, and others as input</p>
<p>The rest of the talk is in reference to using Knitr with <a href="http://rmarkdown.rstudio.com/">Rmarkdown</a></p>
<p>Like <a href="http://rmarkdown.rstudio.com/#markdown-basics">markdown</a> syntax except</p>
<ul>
<li>hyphens up top delineate <a href="http://rmarkdown.rstudio.com/#output-options">frontmatter/metadata in YAML</a><ul>
<li>for output options mostly</li>
</ul>
</li>
<li><a href="http://rmarkdown.rstudio.com/authoring_rcodechunks.html">Codeblocks</a> can be passed options</li>
</ul>
<p>Shortcut for codeblock in RStudio</p>
<ul>
<li><kbd>ctrl</kbd> + <kbd>alt</kbd> + <kbd>i</kbd></li>
<li><kbd>cmd</kbd> + <kbd>alt</kbd> + <kbd>i</kbd></li>
</ul>
<h1>Neat Tips:</h1><h2>As code gets longer</h2><ul>
<li>make separate R files</li>
<li>source them in the Knitr.</li>
</ul>
<h2>Use things like <a href="https://cran.r-project.org/web/packages/stargazer/index.html">stargazer package</a></h2><h2>can run a chunk</h2><ul>
<li>By highlighting and <kbd>ctrl</kbd> + <kbd>enter</kbd> to run as with other code in RStudio</li>
</ul>
<h2>can comment out</h2><ul>
<li><p>using HTML commenting</p>
<pre><code>&lt;!-- any markdown including mix of text and codeblocks here --&gt;
</code></pre></li>
</ul>
<h2>Caching</h2><ul>
<li>cache option, if true<ul>
<li>doesn&#39;t re-eval itself if previous chunks has updated</li>
<li>re-evals if changed within chunk</li>
</ul>
</li>
</ul>
<h2>Name code blocks</h2><ul>
<li>can see in RStudio and use as navigation</li>
<li>can reference code blocks elsewhere in document</li>
</ul>
<h2>Can write <a href="http://yihui.name/knitr/hooks/">knitr hooks</a></h2><ul>
<li>extra customization!</li>
</ul>
<h1>Examples</h1><ul>
<li><p><a href="http://health.stackexchange.com/questions/4413/how-much-of-the-difference-in-brain-size-is-attributable-to-gender-not-physical">stackoverflow</a></p>
<ul>
<li>learned about caching</li>
</ul>
</li>
<li><p>For taking code from an explanation to use</p>
<ul>
<li><code>knitr(&#39;filename.Rmd&#39;, tangle=TRUE)</code> will extract the code chunks and return &#39;filename.R&#39; with just the R Code</li>
</ul>
</li>
<li><p>slides, with <code>ioslides_presentation</code></p>
</li>
</ul>
<h2>What are some workflows that include Knitr when doing analysis in R?</h2><ul>
<li>whole workflow in Rmd</li>
<li>do in RStudio first, then go to Rmarkdown</li>
<li>sourcing a lot of R code chunks<ul>
<li>source one big file that sources other things</li>
</ul>
</li>
</ul>
<h2>Is there a way to do interactive Rmarkdown editing online?</h2><p><a href="http://rmarkdown.rstudio.com/authoring_shiny.html">Shiny</a></p>
<h2>Good Practices and reports generation</h2><h3>Why use Rmarkdown for report generation?</h3><ul>
<li>Excel/Word with macros == sucked<ul>
<li>brittle, any small change = broken</li>
</ul>
</li>
<li>Rmarkdown is cleaner</li>
<li>get to leverage the power of R<ul>
<li>for analysis</li>
<li>for plots, graphs, etc</li>
</ul>
</li>
<li>easy to re-run anlysis and keep report in sync</li>
<li>easier to publish online</li>
</ul>
<h3>Downsides</h3><ul>
<li>Difficult to have exact control over styles</li>
<li>Lack of good <code>.ppt</code> generation for some audiences</li>
</ul>
<h2>Workflow</h2><ul>
<li>load.R, cleanup.R, figs.R, main.R</li>
<li>source main that loads all</li>
<li>custom ggplot theme</li>
<li>customization can mean getting into css/html</li>
</ul>
<h1>Other things!</h1><p>Beamer for slides, and there are cool beamer themes</p>
<p><a href="https://learnr.wordpress.com/2009/09/09/brew-creating-repetitive-reports/">Brew</a> is another way to do things like we saw with Knitr</p>
<ul>
<li>Takes more up front set up though</li>
</ul>
<p>you can make knitr to mark new page <code>\newpage</code></p>
<ul>
<li><code>\newpage</code> is a feature of TeX</li>
</ul>
<p><a href="https://cran.r-project.org/web/views/ReproducibleResearch.html">Reproducible Research</a></p>
<ul>
<li>&quot;places knitr in context with functions and packages it plays nice with, and some alternatives&quot;</li>
</ul>
</article></div></div></div></main><footer><a href="https://github.com/houstonusers/intro-to-knitr">Github</a></footer></body></html>